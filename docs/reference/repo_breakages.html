<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Identify Breakages for a Repository — repo_breakages • pkgdiff</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Identify Breakages for a Repository — repo_breakages"><meta property="og:description" content="The repo_breakages function generates a data frame
of breakage information for multiple packages.  This function can be used
to identify breakages for small set of packages, or even an entire repository."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pkgdiff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/pkgdiff.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pkgdiff-stability.html">Stability Score</a>
    </li>
    <li>
      <a href="../articles/pkgdiff-cache.html">Package Cache</a>
    </li>
    <li>
      <a href="../articles/pkgdiff-faq.html">Frequently Asked Questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/pkgdiff-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/pkgdiff/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Identify Breakages for a Repository</h1>
    <small class="dont-index">Source: <a href="https://github.com/dbosak01/pkgdiff/blob/HEAD/R/reports.R" class="external-link"><code>R/reports.R</code></a></small>
    <div class="hidden name"><code>repo_breakages.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>repo_breakages</code> function generates a data frame
of breakage information for multiple packages.  This function can be used
to identify breakages for small set of packages, or even an entire repository.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">repo_breakages</span><span class="op">(</span>r1 <span class="op">=</span> <span class="st">"current"</span>, r2 <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-r-">r1<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>A data frame that identifies the source repository packages
and versions. The default value is "current", which means
the function will use the current versions of all package in
the current R repository.</p></dd>


<dt id="arg-r-">r2<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>A data frame that identifies the target repository packages
and versions. The default value is "latest", which means
the function will use the latest versions of all packages on CRAN.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing a summary table and a list of difference
objects. The summary table will contain one row for each package. The
columns show the package name, source and target versions, and whether
there are any breaking changes between the specified versions.  If
breaking changes are found, the difference object for that package
will be included in the details list.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>repo_breakages</code> function aims to help with repository upgrades.
The purpose is to identify packages that will break if you upgrade
your repository.</p>
<p>The function accepts two data frames as input.
Each data frame should have two columns: "Package" and "Version".
The "r1" data frame is for your current repo.  The "r2" data frame
is for the upgrade repo.</p>
<p>When executed, <code>repo_breakages</code> will then match up the
source and target versions, run a difference operation for each package,
and look for breaking changes.</p>
<p>The result will be a table of package names, the source and target version,
and whether or not there are any breakages. If there are
breakages, the difference object for that package will be
added to a "details" list.  This difference object can show you
exactly which functions or function parameters were removed.</p>
<p>The <code>repo_breakages</code> function is one of primary motivations for
the <strong>pkgdiff</strong> package.  This mass-comparison ability did not
exist in any other R package prior to <strong>pkgdiff</strong>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Use the <code><a href="pkg_repo.html">pkg_repo</a></code> function to help gather
version information for each package set.  Also see <code><a href="repo_stability.html">repo_stability</a></code>
to collect stability information on multiple packages.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Create package vector</span></span>
<span><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"curl"</span>, <span class="st">"dplyr"</span>, <span class="st">"purrr"</span>, <span class="st">"stringr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get backdated versions</span></span>
<span><span class="va">r1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Package <span class="op">=</span> <span class="va">pkgs</span>,</span>
<span>                 Version <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"5.2.1"</span>, <span class="st">"1.1.4"</span>, <span class="st">"1.0.2"</span>, <span class="st">"1.5.0"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get latest versions from CRAN</span></span>
<span><span class="va">r2</span> <span class="op">&lt;-</span> <span class="fu"><a href="pkg_repo.html">pkg_repo</a></span><span class="op">(</span><span class="va">pkgs</span>, <span class="st">"latest"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find any breaking changes</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">repo_breakages</span><span class="op">(</span><span class="va">r1</span>, <span class="va">r2</span><span class="op">)</span></span>
<span><span class="co"># Comparing curl v5.2.1/v6.2.1</span></span>
<span><span class="co"># Comparing purrr v1.0.2/v1.0.4</span></span>
<span><span class="co"># Comparing stringr v1.5.0/v1.5.1</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res</span></span>
<span><span class="co"># $summary</span></span>
<span><span class="co">#   Package Version1 Version2 Breakages</span></span>
<span><span class="co"># 1    curl    5.2.1    6.2.1      TRUE</span></span>
<span><span class="co"># 2   dplyr    1.1.4    1.1.4     FALSE</span></span>
<span><span class="co"># 3   purrr    1.0.2    1.0.4     FALSE</span></span>
<span><span class="co"># 4 stringr    1.5.0    1.5.1     FALSE</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># $details</span></span>
<span><span class="co"># $details$curl</span></span>
<span><span class="co"># # A difference object: curl package</span></span>
<span><span class="co"># - Comparing: v5.2.1/v6.2.1</span></span>
<span><span class="co"># - Breaking Changes: TRUE</span></span>
<span><span class="co"># - Added Functions:</span></span>
<span><span class="co">#   - curl_parse_url()</span></span>
<span><span class="co"># - Added Parameters:</span></span>
<span><span class="co">#   - multi_download(): multi_timeout</span></span>
<span><span class="co"># - multi_set(): max_streams</span></span>
<span><span class="co"># - new_pool(): max_streams</span></span>
<span><span class="co"># - Removed Parameters:</span></span>
<span><span class="co">#   - multi_download(): timeout</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

